<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>WEB开发的安全之旅 | 青训营笔记 | Thresh</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Web 安全一窥两个角度看 web 安全问题  假如你是一个 hacker 一一攻击 假如你是一个开发者一一防御  攻击篇Cross-Site Scripting(XSS)没有将用户提交内容进行过滤&#x2F;转义，直接转化成 DOM XSS 的一些特点 通常难以从 UI 上感知(暗地执行脚本) 窃取用户信息 (cookie&#x2F;token) 绘制 UI(例如弹窗)，诱骗用户点击&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="WEB开发的安全之旅 | 青训营笔记">
<meta property="og:url" content="http://example.com/2023/06/14/WEB%E5%BC%80%E5%8F%91%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Thresh">
<meta property="og:description" content="Web 安全一窥两个角度看 web 安全问题  假如你是一个 hacker 一一攻击 假如你是一个开发者一一防御  攻击篇Cross-Site Scripting(XSS)没有将用户提交内容进行过滤&#x2F;转义，直接转化成 DOM XSS 的一些特点 通常难以从 UI 上感知(暗地执行脚本) 窃取用户信息 (cookie&#x2F;token) 绘制 UI(例如弹窗)，诱骗用户点击&#x2F;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed0efaa4942045779273229fb9929d4d~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a9310b7ea2194c869269e8a54f27a494~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff611130de73436c824b9d5c5b1881e7~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5f96566560a48cfb9b7df0acf485979~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca1c429180f5435b9950e2bb96f6a965~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a4930db26f24d07977d07426b8099a2~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1fda58a45084df8a870e7e88a61dfb5~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adfd0253fb43428f8c785d655b956ea3~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5fe407b35d44e3491f986fb1ec1eac1~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a51353a1094481ea9bd208099476d1c~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b80c5a465c614156a2cb0b423474d1f6~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b91dcbe515b241c68be9aa2622116a1c~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/125d97447f0f4fbfa4488ad5b418eb53~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da78e1aa2ad5452181862cbd3285c65c~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4c2447d4e1f469ca4ff13e4c066d536~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a027e523c1414d078b0ebdd5033395f9~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cb648c21944451bbc4abf23311b33c8~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2afa405dc3624cf6a793169d98d10515~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c00bdadd9813450a9934ca292d91733f~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eb3efba5a1848f4a4b4573a035ba2dd~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc9eee91a6d44c008450ef1fe9c36829~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b0ce98d482c4e34a7873d4fab850d75~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/743ffa80b06d4cf0a8edfa23c91a19d1~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1f158664f274c2783affebf9be97a6f~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8416c03bbaeb4be8af1a76f9e32527d6~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdee3bbe1f2946c28e8f9c859fe092c8~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b436abbf7d41fd92842fa2f0f3cb32~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e2cd4dd64494999bd75f9b48a6a2e8f~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6f7b3ccbff9e4cd8b13a44fb4f490d9c~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea79c5ba0e934b9e9e27c9ac39c4b149~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82e568a03d4e4312be58c1ec2d0f481d~tplv-k3u1fbpfcp-watermark.image">
<meta property="og:image" content="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bda7a25b1034e979a2db1bfa1dee2fc~tplv-k3u1fbpfcp-watermark.image">
<meta property="article:published_time" content="2023-06-14T02:48:27.000Z">
<meta property="article:modified_time" content="2023-06-14T02:48:42.152Z">
<meta property="article:author" content="Thresh">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed0efaa4942045779273229fb9929d4d~tplv-k3u1fbpfcp-watermark.image">
  
    <link rel="alternate" href="/atom.xml" title="Thresh" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Thresh</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-WEB开发的安全之旅-青训营笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/14/WEB%E5%BC%80%E5%8F%91%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2023-06-14T02:48:27.000Z" itemprop="datePublished">2023-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      WEB开发的安全之旅 | 青训营笔记
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Web-安全一窥"><a href="#Web-安全一窥" class="headerlink" title="Web 安全一窥"></a>Web 安全一窥</h2><p>两个角度看 web 安全问题</p>
<ul>
<li>假如你是一个 hacker 一一攻击</li>
<li>假如你是一个开发者一一防御</li>
</ul>
<h2 id="攻击篇"><a href="#攻击篇" class="headerlink" title="攻击篇"></a>攻击篇</h2><h3 id="Cross-Site-Scripting-XSS"><a href="#Cross-Site-Scripting-XSS" class="headerlink" title="Cross-Site Scripting(XSS)"></a>Cross-Site Scripting(XSS)</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed0efaa4942045779273229fb9929d4d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>没有将用户提交内容进行过滤&#x2F;转义，直接转化成 DOM</p>
<h3 id="XSS-的一些特点"><a href="#XSS-的一些特点" class="headerlink" title="XSS 的一些特点"></a>XSS 的一些特点</h3><ul>
<li>通常难以从 UI 上感知(暗地执行脚本)</li>
<li>窃取用户信息 (cookie&#x2F;token)</li>
<li>绘制 UI(例如弹窗)，诱骗用户点击&#x2F;填写表单</li>
</ul>
<h3 id="XSS-demo"><a href="#XSS-demo" class="headerlink" title="XSS demo"></a>XSS demo</h3><p>病毒可以直接提交恶意脚本<br><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a9310b7ea2194c869269e8a54f27a494~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff611130de73436c824b9d5c5b1881e7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Stored-XSS"><a href="#Stored-XSS" class="headerlink" title="Stored XSS"></a>Stored XSS</h3><ul>
<li>恶意脚本被存在数据库中</li>
<li>访问页面 -&gt;读数据&#x3D;&#x3D;被攻击</li>
<li>危害最大，对全部用户可见</li>
</ul>
<h3 id="Reflected-XSS"><a href="#Reflected-XSS" class="headerlink" title="Reflected XSS"></a>Reflected XSS</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5f96566560a48cfb9b7df0acf485979~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="Reflected-XSS-Demo"><a href="#Reflected-XSS-Demo" class="headerlink" title="Reflected XSS Demo"></a>Reflected XSS Demo</h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca1c429180f5435b9950e2bb96f6a965~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="DOM-based-XSS"><a href="#DOM-based-XSS" class="headerlink" title="DOM - based XSS"></a>DOM - based XSS</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a4930db26f24d07977d07426b8099a2~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="DOM-based-XSS-Demo"><a href="#DOM-based-XSS-Demo" class="headerlink" title="DOM - based XSS Demo"></a>DOM - based XSS Demo</h4><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1fda58a45084df8a870e7e88a61dfb5~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Reflected-VS-DOM-based"><a href="#Reflected-VS-DOM-based" class="headerlink" title="Reflected VS DOM - based"></a>Reflected VS DOM - based</h3><p>完成注入脚本的地方</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adfd0253fb43428f8c785d655b956ea3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Mutation-based-XSS"><a href="#Mutation-based-XSS" class="headerlink" title="Mutation-based XSS"></a>Mutation-based XSS</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5fe407b35d44e3491f986fb1ec1eac1~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a51353a1094481ea9bd208099476d1c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Cross-site-request-forgery-CSRF"><a href="#Cross-site-request-forgery-CSRF" class="headerlink" title="Cross-site request forgery(CSRF)"></a>Cross-site request forgery(CSRF)</h3><ul>
<li>在用户不知情的前提下</li>
<li>利用用户权限 (cookie)</li>
<li>构造指定 HTTP 请求，窃取或修改用户敏感信息</li>
</ul>
<h4 id="CSRF-demo"><a href="#CSRF-demo" class="headerlink" title="CSRF demo"></a>CSRF demo</h4><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b80c5a465c614156a2cb0b423474d1f6~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="CSRF-–-GET"><a href="#CSRF-–-GET" class="headerlink" title="CSRF – GET"></a>CSRF – GET</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;https://bank.com/transfer?to=hacker&amp;amount=100&quot;&gt;点我抽奖&lt;/a&gt;</span><br><span class="line">&lt;! --确实中奖了 --&gt;</span><br><span class="line">&lt;img style=&quot;display:none;&quot; src=&quot;https://bank.com/transfer?to=hacker&amp;amount=100&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="CSRF-–-beyond-GET"><a href="#CSRF-–-beyond-GET" class="headerlink" title="CSRF – beyond GET"></a>CSRF – beyond GET</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;https&quot;//bank/transfer_tons_of_money&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">    &lt;input name=&quot;amount&quot; value=&quot;1000000000&quot; type=&quot;hidden&quot;/&gt;</span><br><span class="line">    &lt;input name=&quot;to&quot; value=&quot;hacker&quot; type=&quot;hidden&quot;/&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h3 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b91dcbe515b241c68be9aa2622116a1c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="Injection-demo1"><a href="#Injection-demo1" class="headerlink" title="Injection demo1"></a>Injection demo1</h4><ul>
<li>1.读取请求字段</li>
<li>2.直接以字符串的形式拼接 SQL 语句</li>
</ul>
<h4 id="Injection-不止于-SQL"><a href="#Injection-不止于-SQL" class="headerlink" title="Injection 不止于 SQL"></a>Injection 不止于 SQL</h4><ul>
<li>CLI</li>
<li>OS command</li>
<li>Server - Side Request Forgery(SSRF),服务端伪造请求</li>
<li>严格而言,SSRF 不是 Injection ,但是原理类似</li>
</ul>
<h3 id="SSRF-demo"><a href="#SSRF-demo" class="headerlink" title="SSRF demo"></a>SSRF demo</h3><ul>
<li>请求[用户自定义] 的 callback URL</li>
<li>web server 通常有内网访问权限</li>
</ul>
<h3 id="Denial-of-Service-DoS"><a href="#Denial-of-Service-DoS" class="headerlink" title="Denial of Service(DoS)"></a>Denial of Service(DoS)</h3><p>通过某种方式 (构造特定请求)导致服务器资源被显著消耗来不及响应更多请求，导致请求挤压，进而雪崩效应。</p>
<h3 id="插播-正则表达式-–-贪婪模式"><a href="#插播-正则表达式-–-贪婪模式" class="headerlink" title="插播:正则表达式 – 贪婪模式"></a>插播:正则表达式 – 贪婪模式</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/125d97447f0f4fbfa4488ad5b418eb53~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="ReDoS-基于正则表达式的-DoS"><a href="#ReDoS-基于正则表达式的-DoS" class="headerlink" title="ReDoS: 基于正则表达式的 DoS"></a>ReDoS: 基于正则表达式的 DoS</h4><p>贪婪:n 次不行? n - 1 次再试试? —回溯</p>
<h3 id="Logical-DoS"><a href="#Logical-DoS" class="headerlink" title="Logical DoS"></a>Logical DoS</h3><ul>
<li>耗时的同步操作</li>
<li>数据库写入</li>
<li>SQL join</li>
<li>文件备份</li>
<li>循环执行逻辑</li>
</ul>
<h4 id="Logical-DoS-Demo"><a href="#Logical-DoS-Demo" class="headerlink" title="Logical DoS Demo"></a>Logical DoS Demo</h4><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da78e1aa2ad5452181862cbd3285c65c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Distributed-DoS-DDoS"><a href="#Distributed-DoS-DDoS" class="headerlink" title="Distributed DoS(DDoS)"></a>Distributed DoS(DDoS)</h3><p>短时间内，来自大量僵尸设备的请求流量，服务器不能及时完成全部请求，导致请求堆积，进而雪崩效应，无法响应新请求。</p>
<h4 id="DDoS"><a href="#DDoS" class="headerlink" title="DDoS"></a>DDoS</h4><ul>
<li>直接访问 IP</li>
<li>任意 API</li>
<li>消耗大量带宽(耗尽)</li>
</ul>
<h4 id="DDoS-demo"><a href="#DDoS-demo" class="headerlink" title="DDoS demo"></a>DDoS demo</h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4c2447d4e1f469ca4ff13e4c066d536~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h3><h3 id="中间人攻击"><a href="#中间人攻击" class="headerlink" title="中间人攻击"></a>中间人攻击</h3><ul>
<li>明文传输</li>
<li>信息篡改不可知</li>
<li>对方身份未验证</li>
</ul>
<h2 id="防御篇"><a href="#防御篇" class="headerlink" title="防御篇"></a>防御篇</h2><h3 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h3><ul>
<li>永远不信任用户的提交内容</li>
<li>不要将用户提交内容直接转换成 DOM</li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a027e523c1414d078b0ebdd5033395f9~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="XSS-–-现成工具"><a href="#XSS-–-现成工具" class="headerlink" title="XSS – 现成工具"></a>XSS – 现成工具</h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cb648c21944451bbc4abf23311b33c8~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="XSS-–-耗子尾汁"><a href="#XSS-–-耗子尾汁" class="headerlink" title="XSS – 耗子尾汁"></a>XSS – 耗子尾汁</h4><p><strong>用户需求:</strong> 不讲武德，必须动态生成 DON</p>
<h3 id="插播-Same-origin-Policy"><a href="#插播-Same-origin-Policy" class="headerlink" title="插播: Same-origin Policy"></a>插播: Same-origin Policy</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2afa405dc3624cf6a793169d98d10515~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Content-Security-Policy-CSP"><a href="#Content-Security-Policy-CSP" class="headerlink" title="Content Security Policy(CSP)"></a>Content Security Policy(CSP)</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c00bdadd9813450a9934ca292d91733f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="CSRF-的防御"><a href="#CSRF-的防御" class="headerlink" title="CSRF 的防御"></a>CSRF 的防御</h3><ul>
<li>if 伪造请求 &#x3D;&#x3D;&#x3D; 异常来源</li>
<li>限制伪造请求限制请求来源 -&gt; then</li>
<li>Origin</li>
<li>同源请求中，GET + HEAD 不发送</li>
<li>Referer</li>
</ul>
<h4 id="CSRF-–-token"><a href="#CSRF-–-token" class="headerlink" title="CSRF – token"></a>CSRF – token</h4><p><strong>现有页面后有请求</strong></p>
<ul>
<li>if(请求来自合法页面)</li>
<li>then(服务器接收页面请求)</li>
<li>then(服务器可以标识)</li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6eb3efba5a1848f4a4b4573a035ba2dd~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="CSRF-–-iframe-攻击"><a href="#CSRF-–-iframe-攻击" class="headerlink" title="CSRF – iframe 攻击"></a>CSRF – iframe 攻击</h4><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc9eee91a6d44c008450ef1fe9c36829~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="CSRF-anti-pattern"><a href="#CSRF-anti-pattern" class="headerlink" title="CSRF anti-pattern"></a>CSRF anti-pattern</h4><p>GET! &#x3D;&#x3D; GET+ POST</p>
<h3 id="避免用户信息被携带-SameSite-Cookie"><a href="#避免用户信息被携带-SameSite-Cookie" class="headerlink" title="避免用户信息被携带: SameSite Cookie"></a>避免用户信息被携带: SameSite Cookie</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b0ce98d482c4e34a7873d4fab850d75~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/743ffa80b06d4cf0a8edfa23c91a19d1~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<ul>
<li>依赖 Cookie 的第三方服务怎么办?</li>
<li>内嵌一个 X 站播放器，识别不了用户登录态，发不了弹幕</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1f158664f274c2783affebf9be97a6f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="SameSite-Vs-CORS"><a href="#SameSite-Vs-CORS" class="headerlink" title="SameSite Vs CORS"></a>SameSite Vs CORS</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8416c03bbaeb4be8af1a76f9e32527d6~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="防御-CSRF-的正确姿势"><a href="#防御-CSRF-的正确姿势" class="headerlink" title="防御 CSRF 的正确姿势"></a>防御 CSRF 的正确姿势</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdee3bbe1f2946c28e8f9c859fe092c8~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Injection"><a href="#Injection" class="headerlink" title="Injection"></a>Injection</h3><ul>
<li>找到项目中查询 SQL 的地方</li>
<li>使用 prepared statement</li>
</ul>
<h3 id="Injection-beyond-SQL"><a href="#Injection-beyond-SQL" class="headerlink" title="Injection beyond SQL"></a>Injection beyond SQL</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b436abbf7d41fd92842fa2f0f3cb32~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Regex-DoS"><a href="#Regex-DoS" class="headerlink" title="Regex DoS"></a>Regex DoS</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e2cd4dd64494999bd75f9b48a6a2e8f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Logical-DoS-1"><a href="#Logical-DoS-1" class="headerlink" title="Logical DoS"></a>Logical DoS</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6f7b3ccbff9e4cd8b13a44fb4f490d9c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="DDoS-1"><a href="#DDoS-1" class="headerlink" title="DDoS"></a>DDoS</h3><ul>
<li>流量治理</li>
<li>负载均衡-</li>
<li>API 网关</li>
<li>CDN</li>
<li>快速自动扩容</li>
<li>非核心服务降级</li>
</ul>
<h3 id="传输层一一防御中间人"><a href="#传输层一一防御中间人" class="headerlink" title="传输层一一防御中间人"></a>传输层一一防御中间人</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea79c5ba0e934b9e9e27c9ac39c4b149~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="HTTPS-的一些特性"><a href="#HTTPS-的一些特性" class="headerlink" title="HTTPS 的一些特性"></a>HTTPS 的一些特性</h3><ul>
<li>可靠性:加密</li>
<li>完整性: MAC 验证</li>
<li>不可依赖性:数字签名</li>
</ul>
<h3 id="HTTP-Strict-Transport-Security-HSTS"><a href="#HTTP-Strict-Transport-Security-HSTS" class="headerlink" title="HTTP Strict-Transport-Security(HSTS)"></a>HTTP Strict-Transport-Security(HSTS)</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82e568a03d4e4312be58c1ec2d0f481d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="Subresource-Integrity-SRI"><a href="#Subresource-Integrity-SRI" class="headerlink" title="Subresource Integrity(SRI)"></a>Subresource Integrity(SRI)</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bda7a25b1034e979a2db1bfa1dee2fc~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h2><ul>
<li>安全无小事</li>
<li>使用的依赖 (npm package，甚至是 NodeJS) 可能成为最薄弱的一环</li>
<li>保持学习心态</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/06/14/WEB%E5%BC%80%E5%8F%91%E7%9A%84%E5%AE%89%E5%85%A8%E4%B9%8B%E6%97%85-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/" data-id="cliv4hmsd0007h8ju0l8h6xkg" data-title="WEB开发的安全之旅 | 青训营笔记" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/06/14/%E6%9E%84%E5%BB%BA-Webpack-%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          构建 Webpack 知识体系 | 青训营笔记
        
      </div>
    </a>
  
  
    <a href="/2023/06/14/%E5%89%8D%E7%AB%AF%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%84%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E7%9F%A5%E8%AF%86-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">前端必须知道的开发调试知识 | 青训营笔记</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/06/14/React-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">React | 青训营笔记</a>
          </li>
        
          <li>
            <a href="/2023/06/14/JavaScript(%E4%BA%8C)-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">JavaScript(二) | 青训营笔记</a>
          </li>
        
          <li>
            <a href="/2023/06/14/%E6%B7%B1%E5%85%A5CSS(%E4%BA%8C)-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">深入CSS(二) | 青训营笔记</a>
          </li>
        
          <li>
            <a href="/2023/06/14/%E5%89%8D%E7%AB%AF%E8%AF%AD%E8%A8%80%E4%B8%B2%E8%AE%B2-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">前端语言串讲 | 青训营笔记</a>
          </li>
        
          <li>
            <a href="/2023/06/14/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%B9%E5%99%A8-%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">客户端容器 | 青训营笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Thresh<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>